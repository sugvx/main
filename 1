#!/bin/bash

change_hostname() {
    clear
    echo "============================="
    echo "–ú–µ–Ω—é –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ö–æ—Å—Ç–Ω–µ–π–º–∞"
    echo "============================="
    echo "1. ISP"
    echo "2. HQR (hq-rtr)"
    echo "3. BRR (br-rtr)"
    echo "4. HQSRV (hq-srv)"
    echo "5. BRSRV (br-srv)"
    echo "6. CLI"
    echo "============================="

    read -p "–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (1-6): " host_choice

    case $host_choice in
        1) new_host="isp" ;;
        2) new_host="hq-rtr" ;;
        3) new_host="br-rtr" ;;
        4) new_host="hq-srv" ;;
        5) new_host="br-srv" ;;
        6) new_host="cli" ;;
        *)
            echo "‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä!"
            sleep 2
            return
            ;;
    esac

    sudo hostnamectl set-hostname "${new_host}.au-team.irpo"
    echo "‚úÖ –•–æ—Å—Ç–Ω–µ–π–º –∏–∑–º–µ–Ω—ë–Ω –Ω–∞: ${new_host}.au-team.irpo"
    read -p "–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é..."
}

# –ì–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª –º–µ–Ω—é
while true; do
    clear
    echo "============================="
    echo "–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"
    echo "============================="
    echo "1. IP"
    echo "2. Hostname"
    echo "3. –í—ã—Ö–æ–¥"
    echo "============================="

    read -p "–í—ã–±–µ—Ä–∏—Ç–µ –ø—É–Ω–∫—Ç –º–µ–Ω—é (1-3): " main_choice

    case $main_choice in
        1)
            echo "‚ö†Ô∏è –ü—É–Ω–∫—Ç 'IP' –ø–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω."
            sleep 2
            ;;
        2)
            change_hostname
            ;;
        3)
            echo "üëã –í—ã—Ö–æ–¥ –∏–∑ —Å–∫—Ä–∏–ø—Ç–∞."
            exit 0
            ;;
        *)
            echo "‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é!"
            sleep 2
            ;;
    esac
done
